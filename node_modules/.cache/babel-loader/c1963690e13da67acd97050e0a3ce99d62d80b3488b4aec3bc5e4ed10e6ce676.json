{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useContext } from 'react';\nimport { ExpenseTrackerContext } from './context/context';\nimport { incomeCategories, expenseCategories, resetCategories } from './constants/categories';\nconst useTransactions = title => {\n  _s();\n  resetCategories();\n  const {\n    transactions\n  } = useContext(ExpenseTrackerContext);\n  const transactionsPerType = transactions.filter(t => t.type === title);\n  const total = transactionsPerType.reduce((acc, currVal) => acc += currVal.amount, 0);\n  const categories = title === 'Income' ? incomeCategories : expenseCategories;\n  console.log({\n    transactionsPerType,\n    total,\n    categories\n  });\n  transactionsPerType.forEach(t => {\n    const category = categories.find(c => c.type === t.category);\n    if (category) category.amount += t.amount;\n  });\n  const filteredCategories = categories.filter(c => c.amount > 0);\n  const chartData = {\n    datasets: [{\n      data: filteredCategories.map(c => c.amount),\n      backgroundColor: filteredCategories.map(c => c.color)\n    }],\n    labels: filteredCategories.map(c => c.type)\n  };\n  return {\n    filteredCategories,\n    total,\n    chartData\n  };\n};\n_s(useTransactions, \"Ni2LnfH2vyq3Bhy/VEUHhQfs92s=\");\nexport default useTransactions;","map":{"version":3,"names":["useContext","ExpenseTrackerContext","incomeCategories","expenseCategories","resetCategories","useTransactions","title","_s","transactions","transactionsPerType","filter","t","type","total","reduce","acc","currVal","amount","categories","console","log","forEach","category","find","c","filteredCategories","chartData","datasets","data","map","backgroundColor","color","labels"],"sources":["C:/Users/harsh/desktop/Desktop/test/expense-tracker/src/useTransactions.js"],"sourcesContent":["import { useContext } from 'react';\r\nimport { ExpenseTrackerContext } from './context/context';\r\n\r\nimport { incomeCategories, expenseCategories, resetCategories } from './constants/categories';\r\n\r\nconst useTransactions = (title) => {\r\n    resetCategories();\r\n    const { transactions } = useContext(ExpenseTrackerContext);\r\n    const transactionsPerType = transactions.filter((t)=> t.type === title);\r\n    const total = transactionsPerType.reduce((acc, currVal) => acc+=currVal.amount, 0 );\r\n    const categories = title === 'Income'? incomeCategories : expenseCategories;\r\n    console.log( {transactionsPerType, total, categories });\r\n\r\n    transactionsPerType.forEach((t) => { \r\n        const category = categories.find((c)=> c.type === t.category)\r\n\r\n        if(category) category.amount += t.amount\r\n    })\r\n\r\n    const filteredCategories = categories.filter((c) => c.amount > 0);\r\n\r\n    const chartData = {\r\n        datasets: [{\r\n            data: filteredCategories.map((c)=> c.amount),\r\n            backgroundColor: filteredCategories.map((c)=> c.color)\r\n        }],\r\n        labels: filteredCategories.map((c)=> c.type)\r\n    }\r\n\r\n    return { filteredCategories, total, chartData }\r\n}\r\n\r\nexport default useTransactions;"],"mappings":";AAAA,SAASA,UAAU,QAAQ,OAAO;AAClC,SAASC,qBAAqB,QAAQ,mBAAmB;AAEzD,SAASC,gBAAgB,EAAEC,iBAAiB,EAAEC,eAAe,QAAQ,wBAAwB;AAE7F,MAAMC,eAAe,GAAIC,KAAK,IAAK;EAAAC,EAAA;EAC/BH,eAAe,CAAC,CAAC;EACjB,MAAM;IAAEI;EAAa,CAAC,GAAGR,UAAU,CAACC,qBAAqB,CAAC;EAC1D,MAAMQ,mBAAmB,GAAGD,YAAY,CAACE,MAAM,CAAEC,CAAC,IAAIA,CAAC,CAACC,IAAI,KAAKN,KAAK,CAAC;EACvE,MAAMO,KAAK,GAAGJ,mBAAmB,CAACK,MAAM,CAAC,CAACC,GAAG,EAAEC,OAAO,KAAKD,GAAG,IAAEC,OAAO,CAACC,MAAM,EAAE,CAAE,CAAC;EACnF,MAAMC,UAAU,GAAGZ,KAAK,KAAK,QAAQ,GAAEJ,gBAAgB,GAAGC,iBAAiB;EAC3EgB,OAAO,CAACC,GAAG,CAAE;IAACX,mBAAmB;IAAEI,KAAK;IAAEK;EAAW,CAAC,CAAC;EAEvDT,mBAAmB,CAACY,OAAO,CAAEV,CAAC,IAAK;IAC/B,MAAMW,QAAQ,GAAGJ,UAAU,CAACK,IAAI,CAAEC,CAAC,IAAIA,CAAC,CAACZ,IAAI,KAAKD,CAAC,CAACW,QAAQ,CAAC;IAE7D,IAAGA,QAAQ,EAAEA,QAAQ,CAACL,MAAM,IAAIN,CAAC,CAACM,MAAM;EAC5C,CAAC,CAAC;EAEF,MAAMQ,kBAAkB,GAAGP,UAAU,CAACR,MAAM,CAAEc,CAAC,IAAKA,CAAC,CAACP,MAAM,GAAG,CAAC,CAAC;EAEjE,MAAMS,SAAS,GAAG;IACdC,QAAQ,EAAE,CAAC;MACPC,IAAI,EAAEH,kBAAkB,CAACI,GAAG,CAAEL,CAAC,IAAIA,CAAC,CAACP,MAAM,CAAC;MAC5Ca,eAAe,EAAEL,kBAAkB,CAACI,GAAG,CAAEL,CAAC,IAAIA,CAAC,CAACO,KAAK;IACzD,CAAC,CAAC;IACFC,MAAM,EAAEP,kBAAkB,CAACI,GAAG,CAAEL,CAAC,IAAIA,CAAC,CAACZ,IAAI;EAC/C,CAAC;EAED,OAAO;IAAEa,kBAAkB;IAAEZ,KAAK;IAAEa;EAAU,CAAC;AACnD,CAAC;AAAAnB,EAAA,CAzBKF,eAAe;AA2BrB,eAAeA,eAAe","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}